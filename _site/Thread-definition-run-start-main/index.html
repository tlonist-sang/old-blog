<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Thread - Definition, run()&start(), main - Sanghyun's steady stack.</title>

  <!-- Edit site and author settings in `_config.yml` to make the social details your own -->

    <meta content="Sanghyun's steady stack." property="og:site_name">
  
    <meta content="Thread - Definition, run()&start(), main" property="og:title">
  
  
    <meta content="article" property="og:type">
  
  
    <meta content=""Slow but steady wins the race."
" property="og:description">
  
  
    <meta content="http://localhost:4000/Thread-definition-run-start-main/" property="og:url">
  
  
    <meta content="2019-10-06T00:00:00+09:00" property="article:published_time">
    <meta content="http://localhost:4000/about/" property="article:author">
  
  
    <meta content="http://localhost:4000/assets/img/sanghyun.jpg" property="og:image">
  
  
    
    <meta content="Java" property="article:section">
    
  
  
    
  

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@">
    <meta name="twitter:creator" content="@">
  
    <meta name="twitter:title" content="Thread - Definition, run()&start(), main">
  
  
    <meta name="twitter:url" content="http://localhost:4000/Thread-definition-run-start-main/">
  
  
    <meta name="twitter:description" content=""Slow but steady wins the race."
">
  
  
    <meta name="twitter:image:src" content="http://localhost:4000/assets/img/sanghyun.jpg">
  

	<meta name="description" content="">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta property="og:image" content="">
	<link rel="shortcut icon" href="/assets/img/favicon/favicon.ico" type="image/x-icon">
	<link rel="apple-touch-icon" href="/assets/img/favicon/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicon/apple-touch-icon-144x144.png">
	<!-- Chrome, Firefox OS and Opera -->
	<meta name="theme-color" content="#263959">
	<!-- Windows Phone -->
	<meta name="msapplication-navbutton-color" content="#263959">
	<!-- iOS Safari -->
	<meta name="apple-mobile-web-app-status-bar-style" content="#263959">
	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=PT+Serif:400,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="/assets/fonts/font-awesome/css/font-awesome.min.css">
	<!-- Styles -->
	<link rel="stylesheet" href="/assets/css/main.css">
</head>

<body>

  <div class="wrapper">
    <aside class="sidebar">
  <header>
    <div class="about">
      <div class="cover-author-image">
        <a href="/"><img src="/assets/img/sanghyun.jpg" alt="Sanghyun Harry Kim"></a>
      </div>
      <div class="author-name">Sanghyun Harry Kim</div>
      <p>Web developer. Love Go, Borges, and Gym</p>
    </div>
  </header> <!-- End Header -->
  <footer>
    <section class="contact">
      <h3 class="contact-title">Contact me</h3>
      <ul>
        
          <li><a href="https://twitter.com/artemsheludko_" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
        
        
          <li><a href="https://facebook.com/" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
        
        
          <li class="github"><a href="http://github.com/" target="_blank"><i class="fa fa-github" aria-hidden="true"></i></a></li>
        
        
          <li class="linkedin"><a href="https://in.linkedin.com/in/www.linkedin.com/in/sanghyun-harry-kim" target="_blank"><i class="fa fa-linkedin"></i></a></li>
        
        
          <li class="email"><a href="mailto:tlonist.sang@gmail.com"><i class="fa fa-envelope-o"></i></a></li>
        
      </ul>
    </section> <!-- End Section Contact -->
    <div class="copyright">
      <p>2019 &copy; Sanghyun Harry Kim</p>
    </div>
  </footer> <!-- End Footer -->
</aside> <!-- End Sidebar -->
<div class="content-box clearfix">
  <article class="article-page">
  <div class="page-content">
    
    
    <div class="wrap-content">
      <header class="header-page">
        <h1 class="page-title">Thread - Definition, run()&start(), main</h1>
        <div class="page-date"><span>2019, Oct 06&nbsp;&nbsp;&nbsp;&nbsp;</span></div>
      </header>
      <h2 id="thread">Thread</h2>

<blockquote>
  <h4 id="definitions--process-and-thread">Definitions : Process and Thread</h4>
</blockquote>

<p><strong>Process</strong>  is simply a <strong>‘program in execution’</strong>. When a program is executed, OS allocates appropriate resources(memory) to the program, making it a process.</p>

<p><strong>Thread</strong> is an actual executing module functioning within a process.</p>

<p><em><strong>Process</strong> = <strong>Threads</strong> + Resources (Data + Memory)</em></p>

<ul>
  <li>Threads share the same address space and therefore can share both data and code</li>
  <li>Context switching between threads is usually less expensive than between processes</li>
  <li>Cost of thread intercommunication is relatively low that that of process intercommunication
Threads allow different tasks to be performed concurrently.</li>
</ul>

<blockquote>
  <h4 id="single--multi-thread">Single &amp; Multi Thread</h4>
</blockquote>

<p>CPU core performs <strong>one task at a time</strong>; hence, the number of concurrently processed task is equal to the number of CPUs. Because the former is almost always greater than the latter, CPU works by switching from one thread to the other at an amazingly fast speed.
<img src="https://www.backblaze.com/blog/wp-content/uploads/2017/08/diagram-threads.png" alt="image" />
#####Is Multi-Threading always better?</p>
<ul>
  <li>No. If threads use same resources to perform a task, there is a computation overhead of <strong>switching between contexts.</strong></li>
  <li>Multi threading is especially effective when threads use different resources. For example, user I/O task and file transfer via network can be benefited from using multi threading.</li>
</ul>

<blockquote>
  <h4 id="creating-a-new-thread">Creating a new Thread</h4>
</blockquote>

<p><strong>Creating a thread</strong> is not difficult. You can either create it by extending Thread class or implementing a Runnable interface. Using Runnable interface is preferred because, once inheriting from Thread class the inheriting class cannot inherit other classes.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Thread1</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">ThreadEx</span> <span class="n">t1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ThreadEx</span><span class="o">();</span> <span class="c1">//Thread creation by inheriting Thread class</span>
    
        <span class="n">Runnable</span> <span class="n">r</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ThreadRn</span><span class="o">();</span> <span class="c1">//Thread creation by implementing Runnable interface</span>
        <span class="n">Thread</span> <span class="n">t2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Thread</span><span class="o">(</span><span class="n">r</span><span class="o">);</span>

        <span class="c1">//Thread t2 = new Thread(new ThreadRn()) also works</span>
        
        <span class="n">t1</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="n">t2</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ThreadEx</span> <span class="kd">extends</span> <span class="n">Thread</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello, I'm thread 1!"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ThreadRn</span> <span class="kd">implements</span> <span class="n">Runnable</span><span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello, I'm thread 2!"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p><strong>Console Output</strong></p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Hello, I<span class="s1">'m thread 1!
Hello, I'</span>m thread 2!
</code></pre></div></div>

<blockquote>
  <h4 id="start---run--main-thread">start( ) , run( ), Main Thread</h4>
</blockquote>

<p>The above code called <strong>start()</strong>, not <strong>run()</strong>. Why?</p>
<ul>
  <li><strong>start()</strong> method creates a <strong>call stack</strong> necessary for a thread to execute its task.</li>
  <li>Once a call stack is made, <strong>run()</strong> is loaded onto it.</li>
  <li>Whenever a new thread is created or deleted, a call stack is also created or deleted.</li>
  <li>Below example demonstrates the difference between calling a start() method and calling a run() method.</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Thread2</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">ThreadRun</span> <span class="n">t1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ThreadRun</span><span class="o">();</span>
        <span class="n">t1</span><span class="o">.</span><span class="na">start</span><span class="o">();</span> <span class="c1">//Thread called start, </span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ThreadRun</span> <span class="kd">extends</span> <span class="n">Thread</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(){</span>
        <span class="n">throwException</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">throwException</span><span class="o">(){</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">Exception</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p><strong>Console Output</strong></p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">java.lang.Exception
	at Thread.Thread2.ThreadRun.throwException(ThreadRun.java:10)
	at Thread.Thread2.ThreadRun.run(ThreadRun.java:6)
</span></code></pre></div></div>
<ul>
  <li>Note that the error was NOT thrown in <strong>main</strong>. This is because the error was thrown in a different call stack, one that is claimed by ‘start()’ in the main method.</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Thread2</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">ThreadRun</span> <span class="n">t1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ThreadRun</span><span class="o">();</span>
        <span class="n">t1</span><span class="o">.</span><span class="na">run</span><span class="o">();</span> <span class="c1">//Thread is run from the Main stack, not from a new stack</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>Console Output</strong></p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">java.lang.Exception
	at Thread.Thread2.ThreadRun.throwException(ThreadRun.java:10)
	at Thread.Thread2.ThreadRun.run(ThreadRun.java:6)
	at Thread.Thread2.Thread2.main(Thread2.java:6)
</span></code></pre></div></div>
<p>As can be expected, the error stack includes <strong>main</strong> this time.</p>


      <div class="page-footer">
        <div class="page-share">
          <a href="https://twitter.com/intent/tweet?text=Thread - Definition, run()&start(), main&url=http://localhost:4000/Thread-definition-run-start-main/" title="Share on Twitter" rel="nofollow" target="_blank">Twitter</a>
          <a href="https://facebook.com/sharer.php?u=http://localhost:4000/Thread-definition-run-start-main/" title="Share on Facebook" rel="nofollow" target="_blank">Facebook</a>
          <a href="https://plus.google.com/share?url=http://localhost:4000/Thread-definition-run-start-main/" title="Share on Google+" rel="nofollow" target="_blank">Google+</a>
        </div>
        <div class="page-tag">
          
        </div>
      </div>
      <section class="comment-area">
  <div class="comment-wrapper">
    
    <div id="disqus_thread" class="article-comments"></div>
    <script>
      (function() {
          var d = document, s = d.createElement('script');
          s.src = '//mr-brown.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
  </div>
</section> <!-- End Comment Area -->

    </div> <!-- End Wrap Content -->
  </div> <!-- End Page Content -->
</article> <!-- End Article Page -->

</div>

  </div>
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-139982514-1', 'auto');
  ga('send', 'pageview');
</script> <!-- End Analytics -->

</body>
</html>
